(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6a25a88c"],{2017:function(e,t,o){"use strict";o("cafe")},8883:function(e,t,o){"use strict";o("9f2c")},"9ed6":function(e,t,o){"use strict";o.r(t),o("ace4"),o("d3b7"),o("5cc6"),o("9a8c"),o("a975"),o("735e"),o("c1ac"),o("d139"),o("3a7b"),o("d5d6"),o("82f8"),o("e91f"),o("60bd"),o("5f96"),o("3280"),o("3fcc"),o("ca91"),o("25a1"),o("cd26"),o("3c5d"),o("2954"),o("649e"),o("219c"),o("170b"),o("b39a"),o("72f7");var n=o("c24f"),a=o("ed08"),s={name:"Login",data:function(){return{loginForm:{user:"",pwd:"",code:""},loginRules:{user:[{required:!0,trigger:"blur"}],pwd:[{required:!0,trigger:"blur",validator:function(e,t,o){t.length<6?o(new Error("The password can not be less than 6 digits")):o()}}],code:[{required:!0,trigger:"blur",min:1,max:2}]},codeImg:"",loading:!1,passwordType:"password",redirect:void 0,uuid:""}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},mounted:function(){this.uuid=Object(a.c)(),this.getCodeImg()},methods:{arrayBufferToBase64:function(e){for(var t="",o=new Uint8Array(e),n=o.byteLength,a=0;a<n;a++)t+=String.fromCharCode(o[a]);return window.btoa(t)},getCodeImg:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t.$config={responseType:"arraybuffer"},t.time=(new Date).getTime(),t.uuid=this.uuid,n.a.GetUserCode(t).then((function(t){e.codeImg="data:image/jpeg;base64,"+e.arrayBufferToBase64(t.data)}))},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){return!!t&&(e.loading=!0,e.loginForm.uuid=e.uuid,void e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(t){e.loading=!1,t&&e.$message.error({message:t})})))}))}}};o("2017"),o("8883"),o=o("2877"),s=Object(o.a)(s,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v(e._s(e.$t("loginPage.title")))])]),t("el-form-item",{attrs:{prop:"user"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),t("el-input",{ref:"user",attrs:{placeholder:e.$t("loginPage.user"),name:"user",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.user,callback:function(t){e.$set(e.loginForm,"user",t)},expression:"loginForm.user"}})],1),t("el-form-item",{attrs:{prop:"pwd"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"pwd"}})],1),t("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:e.$t("loginPage.pwd"),name:"pwd",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.pwd,callback:function(t){e.$set(e.loginForm,"pwd",t)},expression:"loginForm.pwd"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"svg-container",attrs:{prop:"code"}},[t("span",[t("svg-icon",{attrs:{"icon-class":"code"}})],1),t("el-input",{ref:"code",attrs:{placeholder:e.$t("loginPage.code"),name:"code",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1)],1),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"code-center"},[t("img",{attrs:{src:e.codeImg,alt:""},on:{click:e.getCodeImg}}),t("span",{on:{click:e.getCodeImg}},[e._v(e._s(e.$t("loginPage.codeToast")))])])])],1),t("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(e._s(e.$t("loginPage.login")))]),t("div",{staticClass:"tips"},[t("span",{staticStyle:{"margin-right":"20px"}},[e._v("username: admin")]),t("span",[e._v(" password: any")])])],1)],1)}),[],!1,null,"5a3e4669",null);t.default=s.exports},"9f2c":function(e,t,o){},cafe:function(e,t,o){}}]);